@model ProjetoFinal.Models.Reserva

@{
    ViewData["Title"] = "Confirmar Reserva";
}

<div class="container">
    <div class="row">
        <div class="col-md-4">
            <dl class="row">
                <dt class="col-sm-3">Local</dt>
                <dd class="col-sm-9">@Model.Local.Nome</dd>

                <dt class="col-sm-3">Check-in</dt>
                <dd class="col-sm-9">@Model.DataInicio.ToShortDateString()</dd>

                <dt class="col-sm-3">Check-out</dt>
                <dd class="col-sm-9">@Model.DataFim.ToShortDateString()</dd>

                <dt class="col-sm-3">Noites</dt>
                <dd class="col-sm-9">@((int)(Model.DataFim - Model.DataInicio).TotalDays)</dd>

                <dt class="col-sm-3 text-success">Valor Total</dt>
                <dd class="col-sm-9 text-success fw-bold">R$ @Model.ValorTotal.ToString("F2")</dd>
            </dl>
        </div>

        <div class="col-md-8">
            <div class="container">                
                <h3>Minhas Fotos</h3>
                <!--<div class="row">  <div class="g-col-2 mb-3"> 
                    <div class="grid " style="--bs-gap: .25rem 1rem;">
                    -->
                <div class="row">
                    <div class="col-sm-2 ">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#photoModal" data-photo-url="@Model.Local.ImagemUrl">
                            <img src="@Model.Local.ImagemUrl" class="img-fluid thumbnail-image" alt="Foto 1">
                        </a>
                    </div>
                    <div class="col-sm-2 ">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#photoModal" data-photo-url="@Model.Local.ImagemUrl2">
                            <img src="@Model.Local.ImagemUrl2" class="img-fluid thumbnail-image" alt="Foto 2">
                        </a>
                    </div>
                    <div class="col-sm-2 ">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#photoModal" data-photo-url="@Model.Local.ImagemUrl3">
                            <img src="@Model.Local.ImagemUrl3" class="img-fluid thumbnail-image" alt="Foto 3">
                        </a>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-2 ">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#photoModal" data-photo-url="@Model.Local.ImagemUrl4">
                            <img src="@Model.Local.ImagemUrl4" class="img-fluid thumbnail-image" alt="Foto 3">
                        </a>
                    </div>
                    <div class="col-sm-2 ">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#photoModal" data-photo-url="@Model.Local.ImagemUrl5">
                            <img src="@Model.Local.ImagemUrl5" class="img-fluid thumbnail-image" alt="Foto 3">
                        </a>
                    </div>
                    <div class="col-sm-2 ">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#photoModal" data-photo-url="@Model.Local.ImagemUrl6">
                            <img src="@Model.Local.ImagemUrl6" class="img-fluid thumbnail-image" alt="Foto 3">
                        </a>
                    </div>
                </div>               

                <!--
                <div class="col-sm-6">
                    <h3>Outro Conteúdo</h3>
                    <p>Este é um espaço para outro conteúdo ao lado das suas fotos.</p>
                </div>
                -->
            </div>
        </div>
    </div>
</div>

<div class="row-cols-auto">
    <div class="modal fade" id="photoModal" tabindex="-1" aria-labelledby="photoModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="photoModalLabel">Visualizar Imagem</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <img src="" id="modalImage" class="img-fluid" alt="Imagem em destaque">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
   
    @section Scripts {
        <script>
            $(document).ready(function () {
                // Quando o modal é mostrado (evento do Bootstrap)
                $('#photoModal').on('show.bs.modal', function (event) {
                    var button = $(event.relatedTarget); // Botão (a tag <a>) que acionou o modal
                    var photoUrl = button.data('photo-url'); // Extrai o valor do atributo data-photo-url

                    var modal = $(this);
                    modal.find('.modal-body #modalImage').attr('src', photoUrl); // Define o src da imagem dentro do modal
                });
            });
        </script>
    }   
</div>

<h1>Confirmar sua Reserva</h1>
<hr />
<div class="row">
    <div class="col-md-8">
        <h4>Detalhes do Local</h4>

    </div>
</div>

<form asp-action="CriarConfirmado" method="post">
    <input type="hidden" asp-for="LocalId" />
    <input type="hidden" asp-for="DataInicio" />
    <input type="hidden" asp-for="DataFim" />
    <input type="hidden" asp-for="ValorTotal" />
    <button type="submit" class="btn btn-primary btn-lg">Confirmar e Pagar</button>
    <a asp-controller="Home" asp-action="Index" class="btn btn-secondary">Cancelar</a>
</form>
